<!DOCTYPE html>

<html>
<head>
    <title>Document</title>
</head>
<body>
    <div>
        show somebody
        <ul id='ul'>

        </ul>
    </div>
    <script src="../public/javascripts/jquery-3.4.1.min.js"></script>
    <script>
        $(document).ready(function(){
            $.ajax({
                    type: 'get',
                    url: 'http://localhost:3000/query',
                    data: {
                        kind: 'all'
                    },
                    success: function (data) {
                        $('#id').val('')
                        $('#title').val('')
                        list = data
                        console.log(list);
                        for (let i = 0; i < list.length; i++) {
                            $(`<li data-api=${list[i].api} data-name=${list[i].api_name}>` + list[i].api + list[i].id+ list[i].api_name+ list[i].api_rq_type  + `<input type="radio"  name="pathType" class="pathType" data-id=${list[i].id}  value=${list[i].id} />` + '</li>').appendTo($('ul'));
                        }
                    },
                    error: function () {
                        console.log('error');
                    }
                })

                /* 动态路由跳转 */
 $("#ul").on('click', 'li', function (e) {
                console.log(e.target.getAttribute("data-api"))
                let api =e.target.getAttribute("data-api")
                let name =e.target.getAttribute("data-name")

                window.location=`getmes${api}?api_name=${name}`

            })
        })
    </script>
</body>
</html>